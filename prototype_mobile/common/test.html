<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="root">
      <input type="text" id="searchInput" placeholder="검색어를 입력하세요" />
      <button onclick="search()">검색</button>

      <ul id="searchResults"></ul>
    </div>
    <script>
      var items = []; // 검색 대상 배열

      // 배열 데이터 가져오기
      fetch("../JSON/recipe_list_data.json")
        .then((response) => response.json())
        .then((data) => {
          items = data.map((value) => value.recipe_title); // 가져온 데이터를 배열에 할당
          console.log(items);
        })
        .catch((error) => {
          console.error("데이터 가져오기 오류:", error);
        });

      function search() {
        var searchInput = document.getElementById("searchInput").value;
        var searchResults = document.getElementById("searchResults");

        // 검색 결과 초기화
        searchResults.innerHTML = "";

        // 한글을 포함하는지 정규식으로 검사
        var koreanRegex = /[ㄱ-ㅎㅏ-ㅣ가-힣]/;

        // 검색어와 배열 요소 비교
        for (var i = 0; i < items.length; i++) {
          if (koreanRegex.test(items[i]) && items[i].includes(searchInput)) {
            var li = document.createElement("li");
            li.appendChild(document.createTextNode(items[i]));
            searchResults.appendChild(li);
          }
        }
      }
    </script>
  </body>
</html>
